(function(k,l){var v=k.document,y=k.navigator,G=v.createElement("div"),E=1E3/60,H=/^(((HT|F)TPS?:\/)?\/|(\.+\/)+|[\w\-]+[\.\/])[\w\-]+([:\.\/][\w\-]+)*\/?(\?(\w+(=[^\s]*)?&?)+)?(#\w*)?$/i,z=/%/,I=/^1|9$/,J=/^DIV$/i,K=/^NONE$/i,L=/^\d{6}$/i,M=/<\/?v:.+/i,N=/\$([1-9]\d*)/g,O=/^([0-9A-F]{2})(([:-][0-9A-F]{2}){5})$/i,P=/^[+\-]?\d+(e+[1-9]\d*)?$/i,Q=/^[+\-]?[1-9]\d*(e+[1-9]\d*)?$/i,R=/^[+\-]?\d+(\.\d*)?(e[+\-]?[1-9]\d*)?$/i,S=/^[+\-]?\d+(\.\d*(e-[1-9]\d*)?|e-[1-9]\d*)$/i,T=/^[\],:{}\s]*$/,U=/(?:^|:|,)(?:\s*\[)+/g,
V=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,W=/"[^"\\\n\r]*"|NaN|true|false|null|undefined|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,X=/^[_A-Z]\w*$/i,Y=/^[1-9]([0-9]{14}|[0-9]{16}[0-9X])$/i,Z=/(^[\s\t\xa0\u3000]+)|([\s\t\xa0\u3000]+$)/g,aa=/^\w+((-\w+)|(\.\w+))*\@[0-9A-Z]+((\.|-)[0-9A-Z]+)*\.[0-9A-Z]+$/i;(function(a){for(var b=0,c=/(^|.*\/)(jMaper\.(\w+\.)*js)$/,d=a.length;b<d&&!(jMagic.root=(a[b].src.match(c)||0)[1]);b++);})(v.getElementsByTagName("script"),k.jMagic={version:"1.3"});var ba=y.platform.toLowerCase(),
C=y.userAgent.toLowerCase(),u=jMagic.Browser=function(a,b){switch(a[1]||/opera|safari/.exec(C)[0]){case "msie":return(b.ie=!!v.all)?(b.v=a[2]||"unknow",b):b;case "efox":return(b.ff=!!k.netscape)?(b.v=a[2]||"unknow",b):b;case "opera":return(b.opera=!!k.opera)?(b.v=a[2]||"unknow",b):b;case "webkit":return(b.webkit=!!k.WebKitPoint)?(b.v=a[2]||"unknow",b):b;case "safari":return(b.safari=/Apple/.test(y.vendor))?(b.v=a[2]||"unknow",b):b;case "chrome":return(b.chrome=!!k.chrome||!!k.webkitURL)?(b.v=a[2]||
"unknow",b):b;default:return b}}(/(?:(msie|efox|chrome)|(?:version))[\s\/:]([\w\d.]+)?/.exec(C)||/(webkit)[\s\/:]([\w\d.]+)?/.exec(C),{os:(C.match(/ip(?:ad|od|hone)/)?["ios"]:C.match(/(?:webos|android)/)||ba.match(/mac|win|linux/)||["unknow"])[0]}),t=jMagic.Support={json2:!!k.JSON,xpath:!!v.evaluate,video:!!k.HTMLVideoElement,audio:!!k.HTMLAudioElement,cache:!!k.applicationCache,webgl:!!k.WebGLRenderingContext,touch:k.ontouchstart!==l,worker:!!k.Worker,locate:!!y.geolocation,select:!!v.querySelector,
socket:!!k.WebSocket||!!k.MozWebSocket,graphic:{vml:!!v.namespaces,svg:!!k.SVGElement,cav:!!k.CanvasRenderingContext2D},message:{post:!!k.postMessage,push:!!k.EventSource},storage:{machine:!!(k.localStorage||0).getItem,session:!!(k.sessionStorage||0).getItem}},A={count:1,regex:{NTH:/(-?\d*)n([+-]?\d*)/,CLS:/\./g,SUM:/\d+/,REL:{R:/[\s+>~]/g,N:/[^\s+>~]+/g},PSEU:{R:/[^:]+/g,P:/\([^()]+\)/g},ATTR:{R:/[!\^$*|~]?=/,P:/[^\[]+(?=\])/g},PICK:/\s*([^a-zA-Z*])\s*/g,FIND:/((?:#[^.:\[]+)*)([A-Z*]*)([^\[:]*)((?:\[.+\])*)((?::.+)*)/i},
trans:{"for":"htmlFor","class":"className"},leach:{cls:function(a,b){for(var c=[],d=0,h=a.length,m,n;d<h;d++)(m=(n=a[d]).className)&&!b.replace(new RegExp(m.replace(" ","|"),"g"),"")&&f.push(c,n);return c},pseu:function(a,b){for(var c=a,d=0,h=b.length,m,n,e,g,p,k;d<h;d+=3)for(a=c,c=[],m=b[d+1],n=b[d],e=b[d+2],p=a.length,k=0;k<p;k++){if(n){if(!m.call(this,g=a[k],k,e))continue}else if(!m.call(this,g=a[k],k,p))continue;f.push(c,g)}return c},attr:function(a,b){for(var c=[],d=0,h=a.length,m=b.length,n,
e,g,p;d<h;d++){g=a[d];for(n=0;n<m&&((p="href"===(e=b[n+1])?g.getAttribute(e,2):g.getAttribute(e))||(p=g[this.trans[e]||e]))&&b[n].call(this,p+"",b[n+2]);n+=3);n===m&&f.push(c,g)}return c},elem:function(a,b,c,d,h){return"*"!==b&&a.nodeName.toLowerCase()!==b?!1:c&&!this.leach.cls.call(this,[a],c).length?!1:d&&!this.leach.attr.call(this,[a],d).length?!1:h&&!this.leach.pseu.call(this,[a],h).length?!1:!0}},fetch:{rule:function(a){var b=this.regex.FIND.exec(a);if(a=b[2])b[2]=a||"*";if(a=b[3])b[3]=a.replace(this.regex.CLS,
"");if(a=b[4])b[4]=this.fetch.attr.call(this,a.match(this.regex.ATTR.P),this.$ATTR);if(a=b[5])b[5]=this.fetch.pseu.call(this,a.match(this.regex.PSEU.R),this.$PSEU);return b},elem:function(a){return(a||0).$GUID?a:a.$GUID=a},pseu:function(a,b){for(var c=[],d=this.count++,h=a.length,m=0,e;m<h;m++)this.regex.SUM.test(e=a[m])?f.push(c,!0,(e=w.pseus[RegExp["$`"]]).fn,e.pm?e.pm.call(this,b[RegExp["$&"]],d):b[RegExp["$&"]]):f.push(c,!1,w.pseus[e],null);return c},attr:function(a,b){for(var c=[],d=0,h=a.length,
m;d<h;d++)this.regex.ATTR.R.test(m=b[a[d]])?f.push(c,w.attrs[RegExp["$&"]],RegExp["$`"],RegExp["$'"]):f.push(c,w.attrs[" "],m,"");return c},nthp:function(a,b){if(this.regex.NTH.test("odd"===a&&"2n+1"||"even"===a&&"2n"||a)){if(0!==(""===(a=RegExp.$1)?a=1:"-"===a?a=-1:a*=1))return[b,!0,a,1*RegExp.$2];a=RegExp.$2}return[b,!1,1*a,null]}},check:{nthp:function(a,b){return a[1]?0<=(b-=a[3])*(a=a[2])&&0===b%a:b===a[2]},child:function(a,b,c){var d,h=c[0];if((b=this.fetch.elem.call(this,d=a.parentNode)).$GUID!==
h){var m,e,f,g=c[5],p=d[c[4]];for((d=c[6])?m=b.$HASH={}:e=0;p;)1===p.nodeType&&(d?(m[f=p.nodeName]||(m[f]=1),e=m[f]++):e++,this.fetch.elem.call(this,p).$SNID=e),p=p[g];b.$GUID=h}return this.check.nthp.call(this,c,this.fetch.elem.call(this,a).$SNID)},sibling:function(a,b,c,d){for(;a=a[b];)if(1===a.nodeType&&(!c||d===a.nodeName))return!1;return!0}},build:function(a,b){if(1<b)for(var c=this.count++,d=a.length-1,h;-1<d;d--)(h=this.fetch.elem.call(this,a[d])).$GUID===c?f.splice(a,d,1):h.$GUID=c},ready:function(a,
b,c){if(a=g.trim(a).replace(this.regex.PICK,"$1").replace(this.regex.ATTR.P,function(a){return f.push(c,a)-1})){for(;-1!==a.indexOf("(");)a=a.replace(this.regex.PSEU.P,function(a){return f.push(b,a.substring(1,a.length-1))-1});return a.split(",")}return[]},parse:function(a,b,c,d){var h;if(b=(h=this.regex.FIND.exec(b))[1])return(b=v.getElementById(b.substring(1)))?[b]:d;w.nexus[c].call(this,a,h[2]||"*",d);if(b=h[3])d=this.leach.cls.call(this,d,b.replace(this.regex.CLS,""));if(b=h[4])d=this.leach.attr.call(this,
d,this.fetch.attr.call(this,b.match(this.regex.ATTR.P),this.$ATTR));if(b=h[5])d=this.leach.pseu.call(this,d,this.fetch.pseu.call(this,b.match(this.regex.PSEU.R),this.$PSEU));return d},query:function(a,b,c,d){for(var h=this.ready(b,this.$PSEU=[],this.$ATTR=[]),m=d=h.length,e=0,g,k,p,l;e<m;e++){(g=(" "+(b=h[e])).match(this.regex.REL.R)).length>(b=b.match(this.regex.REL.N)).length&&f.shift(g);l=0;k=a;for(p=g.length;l<p;l++)k=this.parse(k,b[l],g[l],[]);f.mix(c,k)}this.build(c,d)}},w={nexus:{" ":function(a,
b,c){for(var d=0,h=a.length,m=this.count++,e,g;d<h;d++)(g=(e=a[d]).parentNode)&&(this.fetch.elem.call(this,e).$GUID=m)===this.fetch.elem.call(this,g).$GUID||f.mix(c,D.tag.call(e,b))},">":function(a,b,c){for(var d=0,h=a.length,e;d<h;d++)if(e=a[d].firstChild){do 1!==e.nodeType||e.nodeName.toLowerCase()!==b&&"*"!==b||f.push(c,e);while(e=e.nextSibling)}},"+":function(a,b,c){for(var d=0,h=a.length,e;d<h;d++)if(e=a[d].nextSibling){do if(1===e.nodeType){e.nodeName.toLowerCase()!==b&&"*"!==b||f.push(c,e);
break}while(e=e.nextSibling)}},"~":function(a,b,c){for(var d=0,h=a.length,e=this.count++,g,k;d<h;d++){if(k=(g=a[d]).parentNode){if((k=this.fetch.elem.call(this,k)).$GUID===e)break;k.$GUID=e}for(;g=g.nextSibling;)1!==g.nodeType||g.nodeName.toLowerCase()!==b&&"*"!==b||f.push(c,g)}}},attrs:{" ":function(){return!0},"=":function(a,b){return a===b},"!=":function(a,b){return a!==b},"^=":function(a,b){return 0===a.indexOf(b)},"*=":function(a,b){return-1!==a.indexOf(b)},"$=":function(a,b){return a.substring(a.length-
b.length)===b},"~=":function(a,b){return-1!==(" "+a+" ").indexOf(" "+b+" ")},"|=":function(a,b){return a===b||a.substring(0,b.length+1)===b+"-"}},pseus:{"nth-last-of-type":{fn:A.check.child,pm:function(a,b){(a=this.fetch.nthp.call(this,a,b))&&f.push(a,"lastChild","previousSibling",!0);return a}},"first-of-type":function(a,b,c){return this.check.sibling.call(this,a,"previousSibling",!0,a.nodeName)},"last-of-type":function(a,b,c){return this.check.sibling.call(this,a,"nextSibling",!0,a.nodeName)},"only-of-type":function(a,
b,c){return w.pseus["first-of-type"].call(this,a,b,c)&&w.pseus["last-of-type"].call(this,a,b,c)},"nth-of-type":{fn:A.check.child,pm:function(a,b){(a=this.fetch.nthp.call(this,a,b))&&f.push(a,"firstChild","nextSibling",!0);return a}},"nth-last-child":{fn:A.check.child,pm:function(a,b){(a=this.fetch.nthp.call(this,a,b))&&f.push(a,"lastChild","previousSibling",!1);return a}},"first-child":function(a,b,c){return this.check.sibling.call(this,a,"previousSibling",!1)},"last-child":function(a,b,c){return this.check.sibling.call(this,
a,"nextSibling",!1)},"only-child":function(a,b,c){return w.pseus["first-child"].call(this,a,b,c)&&w.pseus["last-child"].call(this,a,b,c)},"nth-child":{fn:A.check.child,pm:function(a,b){(a=this.fetch.nthp.call(this,a,b))&&f.push(a,"firstChild","nextSibling",!1);return a}},nth:{pm:A.fetch.nthp,fn:function(a,b,c){return this.check.nthp.call(this,c,b)}},has:{pm:function(a){var b=[];a=a.split(",");for(var c=a.length,d=0,h,e;d<c;d++)(e=(" "+(h=a[d])).match(this.regex.REL.R)).length>(h=h.match(this.regex.REL.N)).length&&
f.shift(e),f.push(b,h,e);return b},fn:function(a,b,c){b=[];var d=0,h=c.length;a=[a];for(var e,g,k,l,p;d<h;d+=2){e=a;g=c[d];k=c[d+1];l=k.length;for(p=0;p<l;p++)e=this.parse(e,g[p],k[p],[]);f.mix(b,e)}return 0!==b.length}},not:{pm:function(a){a=a.split(",");for(var b=[];a.length;)f.push(b,this.fetch.rule.call(this,f.pop(a)));return b},fn:function(a,b,c){b=0;for(var d=c.length,h;b<d;b++)if((h=c[b])[1]){if("#"+a.id===h[1])return!1}else if(this.leach.elem.call(this,a,h[2],h[3],h[4],h[5]))return!1;return!0}},
odd:function(a,b){return 1===b%2},even:function(a,b){return 0===b%2},last:function(a,b,c){return b===c-1},first:function(a,b){return 0===b},empty:function(a){return!a.firstChild},checked:function(a){return!0===a.checked},selected:function(a){return!0===a.selected},disabled:function(a){return!0===a.disabled},enabled:function(a){return!1===a.disabled},contains:{fn:function(a,b,c){return-1!==(a.textContent||a.innerText||"").indexOf(c)}}}},D=jMagic.Fn={id:function(){if(1<arguments.length){var a=[];try{f.each(f.unique(f.clone(arguments)),
function(b){(b=D.id.call(this,b))&&f.push(a,b)},this)}catch(b){return[]}return a}try{return g.getDoc(this).getElementById(arguments[0])}catch(b){return null}},css:function(a,b){return e.isString(a)?function(a,b){if(!t.select||!b){var h=[];try{A.query([this],a,h)}catch(e){return[]}return h}try{return f.clone(this.querySelectorAll(a))}catch(e){return[]}}.call(g.getBom(this),a,e.isBoolean(b)?b:!0):[]},tag:function(){if(1<arguments.length){var a=[];try{f.each(f.unique(f.clone(arguments)),function(b){(b=
D.tag.call(this,b))&&f.mix(a,b)},this)}catch(b){return[]}return a}try{return f.clone(g.getBom(this).getElementsByTagName(arguments[0]))}catch(b){return[]}},name:function(){if(1<arguments.length){var a=[];try{f.each(f.unique(f.clone(arguments)),function(b){(b=D.name.call(this,b))&&f.mix(a,b)},this)}catch(b){return[]}return a}try{return f.clone(g.getDoc(this).getElementsByName(arguments[0]))}catch(b){return[]}}},B={opt:function(){return this?{maximumAge:0,timeout:e.isNumber(this.Timeout)?this.Timeout:
3E4,frequency:e.isNumber(this.Refresh)?this.Refresh:6E4,enableHighAcuracy:"android"===u.os?!0:e.isBoolean(this.Precise)?this.Precise:!1}:{maximumAge:0,timeout:3E4,frequency:6E4,enableHighAcuracy:"android"===u.os?!0:!1}},geo:function(a,b,c,d){(a||0).Success&&(c={day:function(){return f.join([g.format(this.date,"$1-$2-$3"),g.format(this.time,"$1:$2:$3")]," ")}.call(g.getDateTime(new Date("ios"===u.os?1E3*c.timestamp:c.timestamp))),lng:c.coords.longitude||0,lat:c.coords.latitude||0,alt:c.coords.altitude||
0,brg:c.coords.heading||0,spd:c.coords.speed||0})&&a.Success.call(b||d||c,c,d)},err:function(a,b,c,d){(a||0).Failure&&(c=function(){switch(c.code){case c.POSITION_UNAVAILABLE:return{UNAVAIL:this,message:this};case c.PERMISSION_DENIED:return{DISABLE:this,message:this};case c.TIMEOUT:return{TIMEOUT:this,message:this};default:return{UNKNOWN:this,message:this}}}.call(g.now()))&&a.Failure.call(b||d||c,c,d)}},ca=function(a,b,c){var d=function(d){return f.each(a,function(a){return!(d=this[a+c]||this[a+b])},
this)||d};return function(){var a=d.call(this);return{free:function(b){return e.isInt(b,!0)?!a(b):b},play:g.bind(this,this.requestAnimationFrame||this.webkitRequestAnimationFrame||this.mozRequestAnimationFrame||this.oRequestAnimationFrame||this.msRequestAnimationFrame||function(a){return!!x.delay.call(this,a,E)})}}}(["c","oC","msC","mozC","webkitC"],"ancelRequestAnimationFrame","ancelAnimationFrame");jMagic.Fx={add:function(a,b,c,d){if(e.isDom(a)&&(b||0).length){var h,m;try{(h=g.getDoc(this).createRange()).selectNode(a)}catch(n){h=
l}finally{x.delay.call(this,g.bind(f.splice(b,0,100),function(n,k){try{a.insertAdjacentHTML("BeforeEnd",m=f.join(this,""))}catch(l){try{a.appendChild(h.createContextualFragment(m))}catch(p){f.clear(b)}}finally{b.length?x.delay.call(k,g.bind(f.splice(b,0,100),arguments.callee),0,k):(h=m=b=null,e.isFunction(c))?c.call(d||a,a):n.abort()}}),0,this)}}},evt:{click:function(a){if(a.click)a.click();else{var b=g.getDoc(this).createEvent("MouseEvents");try{b.initEvent("click",!0,!0)}catch(c){b=null}finally{e.isEmpty(b)||
a.dispatchEvent(b)}}}},drag:function(a,b,c){return e.isDom(a)?function(c,h){return h={abort:function(){return e.equal(c,null)?!0:g.delEvent(c)?!(c=null):!1},start:g.bind(this,function(f){e.equal(c,null)&&(c=g.addEvent({arg:this,obj:a,evt:t.touch?"touchstart":"mousedown",fun:function(c){if(g.stopLaunch((c=g.addCapture(a)||{e:c}).e))try{e.isFunction((b||0).down)&&b.down.call(f||c,c,a,h)}catch(d){c=g.delCapture(a)}finally{if(c)var k=g.addEvent({evt:t.touch?"touchmove":"mousemove",obj:this,fun:function(d){if(g.stopLaunch(c.e=
d))try{e.isFunction((b||0).move)&&b.move.call(f||c,c,a,h)}catch(q){g.delEvent(k)&&g.delEvent(l)&&(l=k=c=g.delCapture(a))}}}),l=g.addEvent({evt:t.touch?"touchend":"mouseup",obj:this,fun:function(d){if(g.delEvent(k)&&g.delEvent(l)){c.e=g.delCapture(a)||d;try{e.isFunction((b||0).stop)&&b.stop.call(f||c,c,a,h)}catch(q){}finally{l=k=c=null}}}})}}}))})}}.call(g.getBom.call(a.ownerDocument,c),null):null},draw:function(a,b,c,d){if(e.isDom(a)&&(b||0).length){var h,m,n;try{(h=g.getDoc(this).createRange()).selectNode(a.ownerSVGElement||
a)}catch(k){h=l}finally{x.delay.call(this,g.bind(f.splice(b,0,100),function(k,l){if(M.test(m=f.join(this,""))&&t.graphic.vml)a.insertAdjacentHTML("BeforeEnd",m);else if(t.graphic.svg){m='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+m+"</svg>";try{n=h.createContextualFragment(m)}catch(p){try{(n=v.createDocumentFragment(!0)).appendChild(r.createDiv()).outerHTML=m}catch(q){f.clear(b)}}finally{if(n=((n.childNodes||0)[0]||0).childNodes)for(;n.length;)a.appendChild(n[0])}}b.length?
x.delay.call(l,g.bind(f.splice(b,0,100),arguments.callee),0,l):(h=n=m=b=null,e.isFunction(c))?c.call(d||a,a):k.abort()}),0,this)}}},anime:function(a,b,c){return e.isFunction(a)&&(b=e.isInt(b)?b:E)?function(d,e,f,k){return function(){if(d&&d.free(f)&&0<=(f=d.play(arguments.callee))&&g.now()-e>=b)try{!1===a.call(c||k,k,c)&&k.stop()}catch(l){k.stop()}finally{d?e=g.now():k=null}}.call(k={stop:function(){return d?d.free(f)&&!(d=e=f=null):!0}})||k}(ca.call(g.getWin(this)),g.now()-b,!0):l},hover:function(a,
b){return e.isDom(a)?t.touch?function(c,d,h){return c={abort:function(){return e.equal(d,null)?!0:g.delEvent(d)?!(d=h=null):!1},mount:g.bind(this,function(f){e.equal(d,null)&&(d=g.addEvent({obj:g.getBom.call(a.ownerDocument,this),evt:"touchstart",fun:function(d){if(e.isSubset(a,(g.getEvent(d)||0).src,!0)){if(!h)try{e.isFunction((b||0).inner)&&x.delay(function(){d=b.inner.call(f||d,d,a,c)})}catch(k){throw k;}finally{h=!0}}else if(h)try{e.isFunction((b||0).outer)&&b.outer.call(f||d,d,a,c)}catch(k){throw k;
}finally{h=!1}}},!0))})}}.call(this,null,null):function(c,d,h){return c={abort:function(){return(e.equal(d,null)?!0:g.delEvent(d)?!(d=null):!1)&&(e.equal(h,null)?!0:g.delEvent(h)?!(h=null):!1)},mount:g.bind(this,function(f){e.equal(d,null)&&(d=g.addEvent({obj:a,evt:"mouseout",fun:function(d){e.isFunction((b||0).outer)&&b.outer.call(f||d,d,a,c)}},!0));e.equal(h,null)&&(h=g.addEvent({obj:a,evt:"mouseover",fun:function(d){e.isFunction((b||0).inner)&&b.inner.call(f||d,d,a,c)}},!0))})}}.call(this,null,
null,null):null},wheel:function(a,b){return e.isFunction(b)?function(){return{open:g.bind(this,function(){a.attachEvent?a.attachEvent("on"+this,b):a.addEventListener(this,b,!1)}),shut:g.bind(this,function(){a.detachEvent?a.detachEvent("on"+this,b):a.removeEventListener(this,b,!1)})}}.call(u.ff?"DOMMouseScroll":"mousewheel"):null},locate:{share:function(a,b){return t.locate?!y.geolocation.getCurrentPosition(function(c){B.geo(a,b,c)},function(c){B.err(a,b,c)},B.opt.call(a)):!1},trace:function(a,b){return t.locate?
function(c){return c={stop:function(a){return g.bind(this,function(){this.clearWatch(a)})}.call(this,this.watchPosition(function(d){B.geo(a,b,d,c)},function(d){B.err(a,b,d,c)},B.opt.call(a)))}}.call(y.geolocation):null}},toggle:function(a,b,c){if((a||0).style)if(K.test(a.style.display))try{!(a.style.display=(b||0).before?!1===b.before.call(c||a,a,!1)?"none":"":"")&&(b||0).behind&&b.behind.call(c||a,a,!0)}catch(d){throw d;}else try{(a.style.display=(b||0).before?!1===b.before.call(c||a,a,!0)?"":"none":
"none")&&(b||0).behind&&b.behind.call(c||a,a,!1)}catch(d){throw d;}},longtap:function(a,b,c){return e.isDom(a)&&e.isFunction(b)?function(d){return(d=g.addEvent({arg:this,obj:a,evt:t.touch?"touchstart":"mousedown",fun:function(d,e,f,k,l){(l=g.getMouse(d))&&(e=x.delay(function(){b.call(c||a,d,a)},750))&&(f=g.addEvent({evt:t.touch?"touchmove":"mousemove",obj:this,fun:function(a){!(a=g.getMouse(a))||a.x==l.x&&a.y==l.y||e.abort()}},!0),k=g.addEvent({evt:t.touch?"touchend":"mouseup",obj:this,fun:function(){g.delEvent(f)&&
g.delEvent(k)&&e.abort()&&(f=k=e=null)}},!0))}},!0))?{abort:function(){return d?g.delEvent(d)?!(d=null):!1:!0}}:null}.call(g.getBom.call(a,a.ownerDocument)):null}};var r=jMagic.Dom={createDom:function(a){var b=null;try{(b=u.ie?new ActiveXObject("Microsoft.XMLDOM"):g.getDoc(this).implementation.createDocument("","",null)).async=a||!1}catch(c){b=null}return b},createXml:function(a,b,c){c=r.createDom.call(this,c);try{c.insertBefore(c.createProcessingInstruction("xml",f.join(['version="1.0" encoding="',
b||"utf-8",'"'],"")),c.childNodes.item(0)),c.insertBefore(c.createElement(a),c.childNodes.item(1))}catch(d){c=null}return c},importXml:function(a,b){var c=u.ie?r.createDom.call(this,b):null;try{c?c.loadXML(a):(c=(new DOMParser).parseFromString(a,"text/xml")).async=b||!1}catch(d){c=null}return c},importXsl:function(a,b){var c=r.getRoot(b);try{u.ie?c=(c||b).transformNode(a):c=((c=new XSLTProcessor).importStylesheet(a)||c).transformToFragment(b,g.getDoc(this))}catch(d){c=null}return c},importUri:function(a,
b){var c=r.createDom.call(this,b);try{c.load(a)}catch(d){c=null}return c},createDiv:function(a,b){return e.isDiv(a)?a.cloneNode(e.isBoolean(b)?b:!1):G.cloneNode(!1)},select:function(a,b){if(u.ie)try{return a.selectNodes(b)}catch(d){return[]}else{var c=[];try{(function(a){for(;a=this.iterateNext();)f.push(c,a)}).call((new XPathEvaluator).evaluate(b,a,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null))}catch(d){return f.clear(c)}return c}},serial:function(a){try{return g.trim(u.ie?a.xml:(new XMLSerializer).serializeToString(a))}catch(b){return null}},
getSire:function(a){try{return a.parentNode}catch(b){return null}},getRoot:function(a){try{return a.documentElement}catch(b){return null}},getText:function(a){try{return u.ie?a.text:a.textContent}catch(b){return null}},getFore:function(a){try{a=a.firstChild}catch(b){return null}return e.isDom(a)?a:r.getNext(a)},getPrev:function(a){try{for(;(a=a.previousSibling)&&!e.isDom(a););}catch(b){a=null}return a},getNext:function(a){try{for(;(a=a.nextSibling)&&!e.isDom(a););}catch(b){a=null}return a},getLast:function(a){try{a=
a.lastChild}catch(b){return null}return e.isDom(a)?a:r.getPrev(a)},insertAfter:function(a,b){var c=r.getSire(a),d=r.getNext(a);try{d?c.insertBefore(b,d):c.appendChild(b)}catch(e){}finally{}},insertBefore:function(a,b){var c=r.getSire(a);try{c.insertBefore(b,a)}catch(d){}finally{}},removeNode:function(a,b){b||(b=r.getSire(a));try{b.removeChild(a)}catch(c){}finally{}},removeChild:function(a,b){var c=a;try{c.innerHTML=""}catch(d){for(;a=c.firstChild;)c.removeChild(a)}finally{b&&r.removeNode(c)}},removeAfter:function(a){var b=
r.getSire(a),c=null;try{if(b)for(;c=a.nextSibling;)b.removeChild(c)}catch(d){}finally{}},removeBefore:function(a){var b=r.getSire(a),c=null;try{if(b)for(;c=a.previousSibling;)b.removeChild(c)}catch(d){}finally{}},removeBetween:function(a,b){var c=r.getSire(a),d=r.getSire(b);try{if((c||!0)===d)for(;(d=a.nextSibling)&&d!==b;)c.removeChild(d)}catch(e){}finally{}}},g=jMagic.Util={now:function(){return+new Date},swap:function(a,b,c,d){return c.call(d||a,a,b)?a:b},trim:function(a){return(a||"").replace(Z,
"")},bind:function(a,b){return function(){return b?b.apply(a,arguments):l}},format:function(a,b){return q.toTxt(a).replace(N,function(a,d){return q.toTxt(b[d-1])||""})},padded:function(a,b,c,d){b-=(a=q.toTxt(a)).length;return 0<b&&e.isFunction(d)?d.call(a,Array(b+1).join(c)):a},getDocSize:function(a){return function(a,c,d,e){if(a.innerHeight)this.winW=a.innerWidth,this.winH=a.innerHeight,this.scrollMaxY&&(this.webW=a.innerWidth+a.scrollMaxX,this.webH=a.innerHeight+a.scrollMaxY);else if(d=c.body)((e=
c.documentElement)||0).clientHeight?(this.winW=e.clientWidth,this.winH=e.clientHeight):(this.winW=d.clientWidth,this.winH=d.clientHeight),d.scrollHeight>d.offsetHeight?(this.webW=d.scrollWidth,this.webH=d.scrollHeight):(this.webW=d.offsetWidth,this.webH=d.offsetHeight);return{webW:this.webW<this.winW?this.winW:this.webW,webH:this.webH<this.winH?this.winH:this.webH,winW:this.winW,winH:this.winH}}.call({webW:0,webH:0,winW:0,winH:0},g.getWin.call(this,a),g.getDoc.call(this,a))},getElemSize:function(a){return e.isDom(a)?
function(){return{w:this.w?q.toInt(this.w):a.offsetWidth,h:this.h?q.toInt(this.h):a.offsetHeight}}.call({w:a.style.width,h:a.style.height}):{}},setElemSize:function(a,b){e.isDom(a)&&((b||0).w!=l&&(a.style.width=z.test(b.w)?b.w:b.w+"px"),(b||0).h!=l&&(a.style.height=z.test(b.h)?b.h:b.h+"px"))},getElemSeat:function(a){return e.isDom(a)?function(){return{t:this.t?q.toInt(this.t):a.offsetTop,l:this.l?q.toInt(this.l):a.offsetLeft,r:this.r?q.toInt(this.r):a.offsetRight,b:this.b?q.toInt(this.b):a.offsetBottom}}.call({t:a.style.top,
l:a.style.left,r:a.style.right,b:a.style.bottom}):{}},setElemSeat:function(a,b){e.isDom(a)&&((b||0).t!=l&&(a.style.top=z.test(b.t)?b.t:b.t+"px"),(b||0).l!=l&&(a.style.left=z.test(b.l)?b.l:b.l+"px"),(b||0).r!=l&&(a.style.right=z.test(b.r)?b.r:b.r+"px"),(b||0).b!=l&&(a.style.bottom=z.test(b.b)?b.b:b.b+"px"))},getPosition:function(a){return e.isDom(a)?function(){for(;a=a.offsetParent;)this.y+=a.offsetTop,this.x+=a.offsetLeft;return this}.call({y:a.offsetTop,x:a.offsetLeft}):{}},getWin:function(a){return e.isWin(a)?
a:e.isWin(this)?this:k},getBom:function(a){return e.isDom(a)?a:e.isDom(this)?this:g.getDoc.call(this,a)},getDoc:function(a){return e.isWin(a)?a.document:e.isWin(this)?this.document:e.isDoc(a)?a:e.isDoc(this)?this:v},getKey:function(a){if(a=(g.getEvent.call(this,a)||0).e){if(a.charCode||0===a.charCode?a.charCode:a.keyCode)return a.charCode||a.keyCode;a=a.button;return u.ie?1===a?1:2===a?3:4===a?2:0:0===a?1:2===a?3:1===a?2:0}return null},getWheel:function(a){return(a=(g.getEvent.call(this,a)||0).e)?
a.wheelDelta?0<a.wheelDelta?1:-1:a.detail?0>a.detail?1:-1:0:0},getEvent:function(a){return(a=a||g.getWin(this).event)?{e:a,src:a.target||a.srcElement}:null},getMouse:function(a){return(a=(g.getEvent.call(this,a)||0).e)?function(a,c){return{x:this.clientX+((a||0).scrollLeft||(c||0).scrollLeft||0)-((a||0).clientLeft||(c||0).clientLeft||0),y:this.clientY+((a||0).scrollTop||(c||0).scrollTop||0)-((a||0).clientTop||(c||0).clientTop||0)}}.call(a.touches?a.touches[0]||a.changedTouches[0]:a,(a=g.getDoc(this)).documentElement,
a.body):null},setMouse:function(a,b){return e.isDom(a)?!!x.delay.call(this,function(){a.style.cursor=e.isUrl(b)?"url("+b+"), auto":b||"";a=b=null},100):!1},addEvent:function(a,b){return function(a){try{a.obj.attachEvent?a.obj.attachEvent("on"+a.evt,a.fun):a.obj.addEventListener(a.evt,a.fun,!1)}catch(b){a=null}return a}({obj:(a||0).obj,evt:(a||0).evt,fun:function(c){b||g.stopBubble(c);return(a||0).fun?a.fun.call((a||0).arg||c,c):l}})},delEvent:function(a){try{a.obj.detachEvent?a.obj.detachEvent("on"+
a.evt,a.fun):a.obj.removeEventListener(a.evt,a.fun,!1)}catch(b){return!1}return!0},addCapture:function(a){a.setCapture?a.setCapture():(a=g.getWin(this)).captureEvents&&a.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)},delCapture:function(a){a.releaseCapture?a.releaseCapture():(a=g.getWin(this)).releaseEvents&&a.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP)},stopLaunch:function(a){return(a=(g.getEvent.call(this,a)||0).e)?!(a.preventDefault?a.preventDefault():a.returnValue=!1):!1},stopBubble:function(a){return(a=
(g.getEvent.call(this,a)||0).e)?a.stopPropagation?!a.stopPropagation():a.cancelBubble=!0:!1},getDateTime:function(a){return(a=e.isDate(a)?a:new Date)?{date:[a.getFullYear(),a.getMonth()+1,a.getDate()],time:[a.getHours(),a.getMinutes(),a.getSeconds()],msel:[a.getMilliseconds()]}:null}},F=jMagic.Math={fix:function(a,b){return Number.prototype.toFixed.call(a,b)}},e=jMagic.Match={equal:function(a,b){return a==b&&a===b},style:function(a,b){try{return(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(e.isString(a)?
a:a.className)}catch(c){return!1}},isEmpty:function(a){return 0!==a?!a||(e.isString(a)||e.isArray(a))&&!a.length:!1},isObject:function(a){return!!a&&"[object Object]"===q.toStr(a)},isFunction:function(a){return!!a&&"[object Function]"===q.toStr(a)},isPrimitive:function(a){return e.isString(a)||e.isNumber(a)||e.isBoolean(a)},isArray:function(a){return!!a&&"[object Array]"===q.toStr(a)},isString:function(a){return"[object String]"===q.toStr(a)},isNumber:function(a){return"[object Number]"===q.toStr(a)&&
isFinite(a)},isBoolean:function(a){return"[object Boolean]"===q.toStr(a)},isDefined:function(a){return!e.equal(a,l)},isElement:function(a){return!!(a||0).tagName},isArgument:function(a){return!!(a||0).callee},isIterable:function(a){return!!a&&!(!a.nextNode&&!a.item)&&e.isNumber(a.length)},isXml:function(a){var b=null;try{b=(a?a.ownerDocument||a:0).documentElement}catch(c){b=null}finally{return b?"HTML"!==b.nodeName:!1}},isDoc:function(a){return!!(a||0).execCommand},isWin:function(a){return!!(a||0).clearInterval},
isDiv:function(a){return!!a&&J.test(a.tagName)},isDom:function(a){return!!a&&I.test(a.nodeType)},isJsn:function(a){return e.isString(a)?T.test(a.replace(V,"@").replace(W,"]").replace(U,"")):e.isObject(a)&&!e.isDom(a)&&!e.isDefined(a.length)},isNum:function(a){return!isNaN(a)&&R.test(a)},isFlt:function(a){return!isNaN(a)&&S.test(a)},isInt:function(a,b){return!isNaN(a)&&(e.equal(b,!0)?P.test(a):Q.test(a))},isUrl:function(a){return!!a&&H.test(a)},isZip:function(a){return!!a&&L.test(a)},isMac:function(a){return!!a&&
O.test(a)},isDate:function(a){return!!a&&"[object Date]"===q.toStr(a)},isCode:function(a){return!!a&&X.test(a)},isCard:function(a){return!!a&&Y.test(a)},isEmail:function(a){return!!a&&aa.test(a)},isSubset:function(a,b,c){if(a===b)return c||!1;if(c=g.getDoc(this).documentElement)try{return c.contains?a.contains(b):!!(a.compareDocumentPosition(b)&16)}catch(d){for(;b=r.getSire(b);){if(a===b)return!0;if(b===c)return!1}}}},q=jMagic.Parse={toNum:function(a){if(!e.isNumber(a)){var b;if(e.isNum(a))b=Number(a);
else try{b=parseInt(a)}catch(c){b=0}a=b}return a},toInt:function(a,b){return e.isNum(a)?parseInt(a,b||10):parseInt(q.toNum(a),b||10)},toFlt:function(a,b){return e.isNum(a)?F.fix(parseFloat(a),b||2):F.fix(parseFloat(q.toNum(a),b||2))},toStr:function(a){return Object.prototype.toString.call(a)},toTxt:function(a){return e.isDefined(a)?a+"":""},toJsn:function(a){return e.isJsn(a)?e.isString(a)?t.json2?k.JSON.parse(a):(new Function("return "+a))():t.json2?k.JSON.stringify(a):function(a,c){return e.isString(a)?
/["\\\x00-\x1f]/.test(a)?'"'+a.replace(/([\x00-\x1f\\"])/g,function(a,b){var e;c[b]?e=c[b]:(e=b.charCodeAt(),e="\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16));return e})+'"':'"'+a+'"':e.isArray(a)?function(d){return"["+f.join(f.map(a,function(a){return d(a,c)}))+"]"}(arguments.callee):e.isObject(a)?function(d){return"{"+f.join(f.map(a,function(a,b){return d(b,c)+":"+d(a,c)}))+"}"}(arguments.callee):a}(a,{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}):null},
toArr:function(a){return e.isPrimitive(a)?q.toTxt(a).match(/./g):!e.isDefined(a.length)||e.isFunction(a)||!e.isFunction(a)&&a.setInterval?[a]:f.clone(a)},toReq:function(a){return e.isJsn(a)?f.join(f.map(a,function(a,c){return c+"="+(e.isPrimitive(a)?a:"")}),"&"):""}},da={asc:function(a,b){return a==b?0:a>b?1:-1},desc:function(a,b){return a==b?0:a>b?-1:1},random:function(){return Math.floor(3*Math.random())-1}},f=jMagic.Array={mix:function(a){f.each(f.slice(arguments,1),function(){e.isArray(this)?
f.each(this,function(){f.mix(a,this)}):f.push(a,this)})},min:function(a){return Math.min.apply(l,a)},max:function(a){return Math.max.apply(l,a)},map:function(a,b,c){var d=[];try{f.each(a,function(e,g){f.push(d,b.call(c||e,e,g,a))})}catch(e){return[]}return d},pop:function(a){return Array.prototype.pop.call(a)},join:function(a){return Array.prototype.join.apply(a,f.slice(arguments,1))},push:function(a){return Array.prototype.push.apply(a,f.slice(arguments,1))},each:function(a,b,c){if(e.isInt((a||0).length,
!0))for(var d=0,h=a.length;d<h&&!1!==b.call(c||a[d],a[d],d,a);d++);else for(d in a)if(!1===b.call(c||a[d],a[d],d,a))break},find:function(a,b,c){var d;try{f.each(a,function(e,f){return b.call(c||e,e,f,a)?(d=e)&&!1:!0})}catch(e){return l}return d},some:function(a,b,c){var d=!1;try{f.each(a,function(e,f){return!(d=!!b.call(c||e,e,f,a))})}catch(e){return!1}return d},grep:function(a,b,c,d){var e=[];try{f.each(a,function(g,k){!c!==!b.call(d||g,g,k,a)&&f.push(e,g)})}catch(g){return[]}return e},sort:function(a,
b){try{return Array.prototype.sort.call(a,e.isFunction(b)?b:da[b]||null)}catch(c){return[]}},index:function(a,b){var c=-1;try{f.each(a,function(a,f){if(e.equal(a,b))return(c=f)&&!1})}catch(d){return-1}return c},count:function(a){var b=(a||0).length;try{b===l&&f.each((b=0,a),function(){b++})}catch(c){return 0}return b},clone:function(a){try{return f.slice(a,0,a.length.valueOf())}catch(c){var b=[];try{f.each(a,function(){f.push(b,this)})}catch(d){return[]}return b}},slice:function(a,b,c){return Array.prototype.slice.call(a,
b,c||a.length)},every:function(a,b,c){var d=!1;try{f.each(a,function(e,f){return d=!!b.call(c||e,e,f,a)})}catch(e){return!1}return d},merge:function(a){try{return Array.prototype.concat.apply(a,f.slice(arguments,1))}catch(c){var b=[];try{f.each(arguments,function(){f.each(this,function(){f.push(b,this)})})}catch(d){return[]}return b}},shift:function(a){return Array.prototype.shift.call(a)},clear:function(a){try{if(e.isArray(a))a.length=0;else for(var b in a)delete a[b]}catch(c){return!1}return!0},
unique:function(a){var b=0,c=0;try{for(;e.isDefined(a[b]);){for(c=b+1;e.isDefined(a[c]);)e.equal(a[b],a[c])&&(f.splice(a,c,1),c--),++c;++b}}catch(d){return[]}return a},splice:function(a){return Array.prototype.splice.apply(a,f.slice(arguments,1))},remove:function(a,b){var c=-1;try{f.each(a,function(d,g){if(e.equal(d,b))return 1>f.splice(a,c=g,1).length})}catch(d){return-1}return c},filter:function(a,b,c){var d=[];try{f.each(a,function(e,g){b.call(c||e,e,g,a)&&f.push(d,e)})}catch(e){return[]}return d},
reduce:function(a,b,c,d){var e=c,g=2<arguments.length?1:0;try{f.each(a,function(c,f){e=g||g++?b.call(d||c,e,c,f,a):c})}catch(k){return l}return e},replace:function(a,b,c){try{return 0<=(b=q.toNum(b))?f.pop(f.splice(a,b,1,c)):l}catch(d){return l}},reverse:function(a){return Array.prototype.reverse.call(a)},unshift:function(a){return Array.prototype.unshift.apply(a,f.slice(arguments,1))}},x=jMagic.Thread={delay:function(a,b,c){return function(d){return d={abort:function(a){return g.bind(this,function(){try{a&&
this.clearTimeout(a)}catch(b){return!1}return!(a=null)})}.call(this,this.setTimeout(function(){try{a.call(c||d,d,c)}catch(b){}finally{d.abort()}},b||0))}}.call(g.getWin(this))},retry:function(a,b,c){return function(d){return d={abort:function(a){return g.bind(this,function(){try{a&&this.clearInterval(a)}catch(b){return!1}return!(a=null)})}.call(this,this.setInterval(function(){try{!1===a.call(c||d,d,c)&&d.abort()}catch(b){d.abort()}},b||1))}}.call(g.getWin(this))}}})(window);
